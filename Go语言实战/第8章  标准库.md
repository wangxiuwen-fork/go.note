#第 8 章 标准库 176 

	本章中我们会大致了解标准库的一部分包。之后，我们会更详细地探讨 3 个非常有用的包： log、 json 和 io。这些包也展示了 Go 语言提供的重要且有用的机制。  

##8.1 文档与源代码 177 

	在$GOROOT/pkg   文件夹中找到已经安装的各目标平台和操作系统的 归档文件。 

	这些 静态库文件  是特殊的 Go 静态库文件，由 Go 的构建工具创建，并在编译和链接最终程序时被 使用。  

	Go 工具链知道什么时候可以使用已有的.a 文件，什么时候需要从机器 上的源代码重新构建。  

##8.2 记录日志 178 

	

###8.2.1 log 包 179 



###8.2.2 定制的日志记录器 182 



###8.2.3 结论 186 



##8.3 编码/解码 187 

	许多程序都需要处理或者发布数据，不管这个程序是要使用数据库，进行网络调用，还是与 分布式系统打交道。如果程序需要处理 XML 或者 JSON，可以使用标准库里名为 xml 和 json 的包， 它们可以处理这些格式的数据。如果想实现自己的数据格式的编解码，可以将这些包的实 现作为指导。
	
	在今天， JSON 远比 XML 流行。这主要是因为与 XML 相比，使用 JSON 需要处理的标签更 少。而这就意味着网络传输时每个消息的数据更少，从而提升整个系统的性能。而且， JSON 可 以转换为 BSON（Binary JavaScript Object Notation，二进制 JavaScript 对象标记），进一步缩小每 个消息的数据长度。因此，我们会学习如何在 Go 应用程序里处理并发布 JSON。处理 XML 的方 法也很类似  

###8.3.1 解码 JSON 187 

###8.3.2 编码 JSON 192 

###8.3.3 结论 193 

	在标准库里都已经提供了处理 JSON 和 XML 格式所需要的诸如解码、反序列化以及序列化 数据的功能。随着每次 Go 语言新版本的发布，这些包的执行速度也越来越快。这些包是处理 JSON 和 XML 的最佳选择。由于有反射包和标签的支持，可以很方便地声明一个结构类型，并将其中 的字段映射到需要处理和发布的文档的字段。由于 json 包和 xml 包都支持 io.Reader 和 io.Writer 接口， 用户不用担心自己的 JSON 和 XML 文档源于哪里。所有的这些特性都让处 理 JSON 和 XML 变得很容易。  

##8.4 输入和输出 193

###8.4.1 Writer 和 Reader 接口 194 

###8.4.2 整合并完成工作 195 

###8.4.3 简单的 curl 199 

###8.4.4 结论 200

##8.5 小结 200  

标准库有特殊的保证， 并且被社区广泛应用。 

使用标准库的包会让你的代码更易于管理，别人也会更信任你的代码。 

100 余个包被合理组织，分布在 38 个类别里。 

标准库里的 log 包拥有记录日志所需的一切功能。 

标准库里的 xml 和 json 包让处理这两种数据格式变得很简单。 

io 包支持以流的方式高效处理数据。 

接口允许你的代码组合已有的功能。 

阅读标准库的代码是熟悉 Go 语言习惯的好方法  